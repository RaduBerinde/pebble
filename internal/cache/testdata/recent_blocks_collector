init limit=100 shards=3
----
shard 0:
  total: 0/100
shard 1:
  total: 0/100
shard 2:
  total: 0/100

# At any point in time, the recent blocks in each shard must be in increasing
# order.
add
size=10 num=50
----
shard 0:
  total: 100/100
  1:2:9 size=10
  1:3:0 size=10
  1:3:4 size=10
  1:3:5 size=10
  1:3:7 size=10
  1:4:3 size=10
  1:4:6 size=10
  1:4:8 size=10
  1:5:1 size=10
  1:5:3 size=10
shard 1:
  total: 0/100
shard 2:
  total: 100/100
  1:3:1 size=10
  1:3:6 size=10
  1:3:8 size=10
  1:3:9 size=10
  1:4:0 size=10
  1:4:2 size=10
  1:4:5 size=10
  1:4:7 size=10
  1:5:2 size=10
  1:5:4 size=10

add
size=30 num=30
----
shard 0:
  total: 100/100
  1:2:9 size=10
  1:3:0 size=10
  1:3:4 size=10
  1:3:5 size=10
  1:3:7 size=10
  1:4:3 size=10
  1:4:6 size=10
  1:4:8 size=10
  1:5:1 size=10
  1:5:3 size=10
shard 1:
  total: 100/100
  1:4:9 size=10
  1:5:0 size=10
  1:5:5 size=10
  1:5:8 size=10
  1:6:6 size=30
  1:6:7 size=30
shard 2:
  total: 100/100
  1:3:1 size=10
  1:3:6 size=10
  1:3:8 size=10
  1:3:9 size=10
  1:4:0 size=10
  1:4:2 size=10
  1:4:5 size=10
  1:4:7 size=10
  1:5:2 size=10
  1:5:4 size=10

add
size=50 num=30
----
shard 0:
  total: 100/100
  1:9:2 size=50
  1:9:5 size=50
shard 1:
  total: 100/100
  2:1:2 size=50
  2:1:3 size=50
shard 2:
  total: 100/100
  1:10:0 size=50
  1:10:4 size=50

add
size=10 num=10
----
shard 0:
  total: 100/100
  1:9:2 size=50
  1:9:5 size=50
shard 1:
  total: 100/100
  2:1:2 size=50
  2:1:3 size=50
shard 2:
  total: 100/100
  1:10:0 size=50
  1:10:4 size=50

finish
----
shard 0:
  total: 80/100
  2:2:0 size=50
  2:2:2 size=10
  2:2:5 size=10
  2:2:7 size=10
shard 1:
  total: 80/100
  2:1:3 size=50
  2:2:1 size=10
  2:2:4 size=10
  2:2:9 size=10
shard 2:
  total: 90/100
  2:1:7 size=50
  2:2:3 size=10
  2:2:6 size=10
  2:2:8 size=10
  2:3:0 size=10
